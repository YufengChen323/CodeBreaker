<html>
<head>
    <style>
        td, th { border: 1px solid }
    </style>
<script>
    //4435
    //6435
    let answer = []
    function startGame() {
        answer = [Math.floor (Math.random() * 10),
         Math.floor (Math.random() * 10),
         Math.floor (Math.random() * 10),
         Math.floor (Math.random() * 10)]
        const alert = document.createElement("alert")
        document.getElementById("body").appendChild(alert)
        console.log(answer)
    }
    function enterAnswer() {
        let a1 = document.getElementById("a1").value
        let b1 = document.getElementById("b1").value
        let c1 = document.getElementById("c1").value
        let d1 = document.getElementById("d1").value
        const guess = [a1, b1, c1, d1]
        const result = check(answer, guess)
        
        const tr = document.createElement("tr")
        tr.innerHTML = `<td>${a1}</td><td>${b1}</td><td>${c1}</td><td>${d1}</td><td>${result[0]}</td><td>${result[1]}</td>`
        document.getElementById("table").appendChild(tr)
        
    }
    function check(answer, guess) {
        var n1 = 0
        var n2 = 0
        const ans = [...answer]
        for (let i = 0; i < guess.length; i++) {
           if (guess[i] == ans[i]) {
                delete ans[i]
                delete guess[i]
                n1++
                continue
            } 
        }
        for (let i = 0; i < guess.length; i++) {
            if (guess[i] === undefined)
                continue
            for (let j = 0; j < ans.length; j++) {
                if (ans[j] == guess[i]) {
                    delete ans[j]
                    n2++
                    break
                }
            }
        }
        return [n1, n2]
    }

</script>
</head>
<body id='body'>
<h1>
    Code Breaker (first JavaScript project) 
</h1>
<a href='help.html'>Help</a>
<br />
<br />
<button onClick="startGame()">
    Start Game
</button>
<br />
<br />
<table style="width:300px" id='table'>
    <tr>
        <th>#1</th>
        <th>#2</th>
        <th>#3</th>
        <th>#4</th>
        <th>H1</th>
        <th>H2</th>
    </tr>
    <tr>
        <td><input id='a1' size='1'/></td>
        <td><input id='b1' size='1'/></td>
        <td><input id='c1' size='1'/></td>
        <td><input id='d1' size='1'/></td>
        <td colspan="2"><button onClick="enterAnswer()">
            Check Code
        </button></td>
    </tr>
</table>

</body>
</html>

